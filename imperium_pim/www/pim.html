{% extends "templates/web.html" %}

{% block title %}{{ title }}{% endblock %}

{% block head_include %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ description }}">
    
    <!-- Next.js App will be served here -->
    <script>
        // Global configuration for the frontend app
        window.FRAPPE_CONFIG = {
            csrf_token: frappe.csrf_token,
            user: frappe.session.user,
            api_base: '/api/method/imperium_pim.api'
        };
    </script>
{% endblock %}

{% block content %}
    <!-- Next.js app will mount here -->
    <div id="__next">
        <div class="flex items-center justify-center min-h-screen">
            <div class="text-center">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
                <p class="text-gray-600">Loading PIM Dashboard...</p>
            </div>
        </div>
    </div>
    
    <!-- Include the Next.js build files -->
    <script src="/assets/imperium_pim/frontend/build/static/js/main.js"></script>
    <link rel="stylesheet" href="/assets/imperium_pim/frontend/build/static/css/main.css">
{% endblock %}

